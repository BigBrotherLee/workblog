<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sunshareteam.workblog.dao.CommentOneMapper">
    <select id="findById" resultType="com.sunshareteam.workblog.entity.CommentOne">
		select comment_one_id,author,content,createuser,createdate,modifydate,modifyuser,articleid from tb_comment_one where comment_one_id=#{id}
	</select>
	<select id="findAll" resultType="com.sunshareteam.workblog.entity.CommentOne">    
         select comment_one_id,author,content,createuser,createdate,modifydate,modifyuser,articleid from tb_comment_one   
       </select>
       <select id="findByKey" resultType="com.sunshareteam.workblog.entity.CommentOne">
		select comment_one_id,author,content,createuser,createdate,modifydate,modifyuser,articleid from tb_comment_one where state=1 and content like #{content}
	</select>
	<insert id="addCommentOne">
	    insert into tb_comment_one(author,content,createuser,createdate,modifydate,modifyuser,articleid)
	    values(#{author},#{content},#{createuser},#{createdate},#{modifydate},#{modifyuser},#{articleid})
	</insert>
	<delete id="delete">
	   delete from tb_comment_one where comment_one_id=#{id}
	</delete>
	<delete id="deleteCommentTwoByCommentOne">
		delete from tb_comment_two where oneid=#{comment_one_id}
	</delete>
	<select id="getCommentOneByUser" resultType="com.sunshareteam.workblog.entity.CommentOne">
		select o.comment_one_id,o.author,o.content,o.createuser,o.createdate,o.modifydate,o.modifyuser,o.articleid from tb_comment_one o,tb_user u where o.createuser=u.userid and u.userid=#{userId}
	</select>
</mapper>