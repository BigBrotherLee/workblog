<!DOCTYPE html>
<html lang="en">
<head>
<title>浅行博客文章详情</title>
<!-- custom-theme -->
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="keywords" content="" />
<script type="application/x-javascript">
	
	
	
			addEventListener("load", function() {
				setTimeout(hideURLbar, 0);
			}, false);

			function hideURLbar() {
				window.scrollTo(0, 1);
			}
		


</script>
<!-- //custom-theme -->
<link href="../static/css/bootstrap.min.css" rel="stylesheet"
	type="text/css" media="all" />
<link href="css/style.css" rel="stylesheet" type="text/css" media="all" />
<link rel="stylesheet" href="css/flexslider.css" type="text/css"
	media="screen" property="" />
<!-- js -->
<script type="text/javascript" src="js/jquery-2.1.4.min.js"></script>
<script type="text/javascript" src="js/jquery.wmuSlider.js"></script>
<!-- //js -->
<!-- font-awesome-icons -->
<link href="../admin/vendor/font-awesome/css/font-awesome.css"
	rel="stylesheet">
<!-- //font-awesome-icons -->
<link href="css/stylelht.css" rel="stylesheet" type="text/css"
	media="all" />

<link
	href="http://fonts.googleapis.com/css?family=Shadows+Into+Light+Two&amp;subset=latin-ext"
	rel="stylesheet">
<link href="http://fonts.googleapis.com/css?family=Cinzel"
	rel="stylesheet">
<script type="text/javascript" src="../static/js/vue.js"></script>
<script type="text/javascript" src="../static/js/vue-resource.min.js"></script>
</head>

<body>
	<div id="app">
		<!-- banner -->
		<div class="banner1">
			<div class="container navdiv">
				<nav class="navbar navbar-default">
					<div class="navbar-header navbar-left">
						<button type="button" class="navbar-toggle collapsed"
							data-toggle="collapse"
							data-target="#bs-example-navbar-collapse-1">
							<span class="sr-only">Toggle navigation</span> <span
								class="icon-bar"></span> <span class="icon-bar"></span> <span
								class="icon-bar"></span>
						</button>
						<h1>
							<a class="navbar-brand" href="index.html">WORK <span>BLOG
							</span></a>
						</h1>
					</div>
					<!-- Collect the nav links, forms, and other content for toggling -->
					<div class="collapse navbar-collapse navbar-right"
						id="bs-example-navbar-collapse-1">
						<nav>
							<ul class="nav navbar-nav link-effect-14" id="link-effect-14">
								<li><a href="services.html"><span>首页</span></a></li>
								<li><a href="gallery.html"><span>分类</span></a></li>
								<li><a href="friend.html"><span>友链</span></a></li>
								<li><a href="about.html"><span>关于</span></a>
							</ul>
							<div class="agileinfo_social_icons">
								<ul class="agileits_social_list">
									<li><input type="text" class="form-control"
										placeholder="搜索..."></li>
									<li><span class="input-group-btn1">
											<button class="btn btn-default btn2" type="button">搜索</button>
									</span></li>
									<li><a href="login.html" class="w3_agile_facebook"><i
											class="fa fa-user-o" aria-hidden="true">登录</i></a></li>
									<li><a href="register.html" class="agile_twitter"><i
											class="fa fa-sign-in" aria-hidden="true">注册</i></a></li>
								</ul>
							</div>
						</nav>
					</div>
				</nav>
			</div>
		</div>

		<!-- //banner -->
		<!-- article -->
		<div class="article-zuida">
			<div class="article-zhong">
				<div class="article-top-image">
					<div class="article-top-image-box"></div>
				</div>
				<div class="article-top-daohang">
					<div class="banner1">
						<div class="daohang">
							<div class="daohangw">
								<div class="daohangwz">
									<h4>您所在的位置</h4>
								</div>
							</div>

						</div>
						<div class="daohangtz">
							<div class="daohangtz-nei">
								<div class="daohangtz-nei-wz ">
									<ul class="wz-ul ">
										<li><a href="services.html" style="color: #eead31;">首&nbsp;页</a></li>
										<li><a href="" style="color: #eead31;"><i
												class="fa fa-angle-double-right"></i>返&nbsp;回&nbsp;上&nbsp;一级</a></li>
										<li><i class="fa fa-angle-double-right"></i>当&nbsp;前&nbsp;页&nbsp;面</li>
									</ul>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="article-detail">
					<div class="detail-wai">
						<div class="article-detail-left-wai">
							<div class="left-wai">
								<div class="left-image-wai">
									<div class="left-image">
										<img :src="article.img">
									</div>
								</div>
								<div class="left-article-wai">
									<div class="left-article">
										<div class="article-title">
											<h1 style="font-size: 38px;">{{article.title}}</h1>
											<span class="post-meta"> <i class="fa fa-user"></i>&nbsp;
												<a :href="'authorarticle.html'+article.author" rel="author">{{author.username}}</a>&nbsp; <i
												class="fa fa-calendar"></i> &nbsp; <a href="" rel="bookmark">
													<time datetime="2017-11-28T15:18:13+00:00">创建时间:{{article.createdate}}</time>
											</a> <a href=""> <i class="fa fa-comment-o"> </i> {{article.commentnum}}条评论
											</a></span>
										</div>
										<div class="article-mainbody">
											<div class="article-mainbody-content">
												<p>
													{{article.contentformat}}
												</p>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="article-detail-right-wai">
							<div class="right-personmsg-wai">
								<div class="personmsg-wz-wai">
									<div class="personmsg-wz">
										<h3 class="widget-title">
											作者信息
										</h3>
										<div class="personmsg-image-wai">
											<div class="personmsg-image">
												<img :src="author.pic">
											</div>
										</div>
										<div class="geqian-wai">
											<div class="geqian">
												<p>
													{{author.autograph}}
												</p>
											</div>
										</div>
									</div>
								</div>
							</div>
							<div class="right-personmsg-wai1">
								<div class="personmsg-wz-wai">
									<div class="personmsg-wz">
										<h3 class="widget-title1">
											<span> 作者的文章</span>
										</h3>
									</div>
									<div class="article-list">
										<a v-for="item in authorArticle" :href="'article.html?articleid='+item.articleid">
											<div class="article-author-wai">
												<div class="article-author-img">
													<img :src="item.img" :alt="item.title">
												</div>
												<div class="article-author-title">
													<h4>{{item.title}}</h4>
													<p>{{item.summary}}</p>
												</div>
											</div>
										</a> 
									</div>
								</div>

							</div>

						</div>
					</div>
				</div>
				<div class="comment-area">
					<div class="content-box-wai">
						<div class="content-box">
							<div class="content-box-li fr">
								<div class="content-one-box">
									<a class="contcent-touxiang"> 
										<img :src="user.img" class="img-circle">
									</a>
									<div class="content-neirong-box fr">
										<div class="content-id-box">
											<a href="" class="contend-id"> 我</a>
										</div>
										<div class="content-two">
											<form>
												<textarea class="form-control no-border" rows="3"
													placeholder="你的观点..." style="border-radius: 20px;"></textarea>
											</form>
											<div class="panel-footer bg-light lter">
												<button class="btn btn-info pull-right btn-sm">
													<div style="font-size:20px;">提交</div>
												</button>

											</div>
										</div>
									</div>
								</div>

								<div v-for="item in commentOne"  class="content-one-box">
									<a class="contcent-touxiang"> <img :src="item.pic" class="img-circle">
									</a>
									<div class="content-neirong-box fr">
										<div class="content-id-box">
											<a  class="contend-id">{{item.username}}</a>
										</div>
										<div class="content-box2">
											<div class="content-first">
												<a>{{item.content}}</a>
											</div>
											<div class="panel-group" id="accordion">
												<div class="panel panel-default">
													<div class="panel-heading">
														<h4 class="panel-title">
															<a data-toggle="collapse" data-parent="#accordion"
																href="#collapseOne"
																class="col-lg-offset-10 content-two-wenzi">
																点击行展开其他评论 </a>
														</h4>
													</div>
													<div id="collapseOne" class="panel-collapse collapse">
														<div class="panel-body">
															<div class="content-touxiang2 fl">
																<img src="images/1.png" alt="">
															</div>
															<div class="lht6 text-left">
																<a href="">李四：</a>二级评论二级评论二级评论二级评论二级评论二
															</div>
														</div>
														<div class="panel-body">
															<div class="content-touxiang2 fl">
																<img src="images/1.png" alt="">
															</div>
															<div class="lht6 text-left">
																<a href="">李四：</a>二级评论二级评论二级评论二级评论二级评论二
															</div>
														</div>
													</div>
												</div>
												<div class="content-yours">
													<form>
														<textarea class="form-control no-border" rows="3" placeholder="你的观点..." style="border-radius: 20px;"></textarea>
													</form>
													<div class="panel-footer bg-light lter">
														<button class="btn btn-info pull-right btn-sm">
															<div style="font-size:20px;">提交</div>
														</button>

													</div>
												</div>
											</div>
										</div>
									</div>
								</div>

							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- //article -->
		<!-- footer -->
		<div class="copy-right-grids">
			<div>
				<div class=" copy-left">
					<p class="footer-gd">Copyright &copy; 2019.5 软件工程1601班 第二小组 李园祥 周金勇 戴同吉 钟珊珊 刘华涛 王小杰 浅行博客</p>
				</div>
				<div class="clearfix"></div>
			</div>
		</div>
	</div>
	<!-- //bootstrap-pop-up -->
	<!-- flexSlider -->
	<script defer src="js/jquery.flexslider.js"></script>
	<script type="text/javascript">
		$(window).load(function() {
			$('.flexslider').flexslider({
				animation : "slide",
				start : function(slider) {
					$('body').removeClass('loading');
				}
			});
		});
	</script>
	<script src="../static/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="js/move-top.js"></script>
	<script type="text/javascript" src="js/easing.js"></script>
	<script type="text/javascript">
		jQuery(document).ready(function($) {
			$(".scroll").click(function(event) {
				event.preventDefault();
				$('html,body').animate({
					scrollTop : $(this.hash).offset().top
				}, 1000);
			});
		});
	</script>
	<script type="text/javascript">
		$(document).ready(function() {
			$().UItoTop({
				easingType : 'easeOutQuart'
			});
		});
	</script>
	<script type="text/javascript">
		var vm1 = new Vue({
			el: '#app',
			data: {
				role: true,
				user:{},
				categoty:{},
				article:{},
				author:{},
				commentOne:{},
				tags:[],
				authorArticle:[]
			},
			created() {
				this.chooserole();
				this.getArticle();
				this.getCategoty();
				this.getCommentOne(1,9);
			},
			methods: {
				chooserole() {
					this.$http.get('/workblog/user/getme').then(result => {
						var result = result.body;
					});
				},
				getArticle() {
					var id=this.getQueryString("articleid");
					this.$http.get('/workblog/article/get?id='+id).then(result => {
						var result = result.body;
						if(result.state===1){
							this.article=result.data;
							this.getAuthor();
							this.getAuthorArticle();
						}
					});
				},
				getCategoty() {
					var articleid=this.getQueryString("articleid");
					this.$http.get('/workblog/categoty/getbyarticle?articleid='+articleid).then(result => {
						var result = result.body;
						if(result.state===1){
							this.categoty=result.data;
						}
					});
				},
				getAuthor(){
					var id=this.article.author;
					this.$http.get('/workblog/user/get?id='+id).then(result => {
						var result = result.body;
						if(result.state===1){
							this.author=result.data;
						}
					});
				},
				getCommentOne(index,length){
					var articleid=this.getQueryString("articleid");
					this.$http.get('/workblog/commentone/getbyarticleall?articleid='+articleid+"&index="+index+"&length="+length).then(result => {
						var result = result.body;
						if(result.state===1){
							this.commentOne=result.data.list;
						}
					});
				},
				getCommentTwo(index,length,oneid){
					this.$http.get('/workblog/commenttwo/getcommenttwobyoneall?oneid='+oneid).then(result => {
						var result = result.body;
						if(result.state===1){
							console.log(result);
						}
					});
				},
				getAuthorArticle(){
					var id=this.article.author;
					this.$http.get('/workblog/article/getpagebyauthorall?authorid='+id+"&index=1&length=9").then(result => {
						var result = result.body;
						if(result.state===1){
							this.authorArticle=result.data.list;
						}
					});
				},
				getTags(){
					
				},
				getQueryString(name){
				     var reg = new RegExp("(^|&)"+ name +"=([^&]*)(&|$)");
				     var r = window.location.search.substr(1).match(reg);
				     if(r!=null)return  unescape(r[2]); return null;
				}
			}
		});
	</script>
</body>
</html>
