<!DOCTYPE html>
<html lang="en">
<head>
<title>浅行博客分类详情</title>
<!-- custom-theme -->
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="keywords" content="" />
<!-- //custom-theme -->
<link href="../static/css/bootstrap.min.css" rel="stylesheet"
	type="text/css" media="all" />
<link href="css/style.css" rel="stylesheet" type="text/css" media="all" />
<link rel="stylesheet" href="css/flexslider.css" type="text/css"
	media="screen" property="" />
<!-- js -->
<script type="text/javascript" src="js/jquery-2.1.4.min.js"></script>
<script type="text/javascript" src="js/jquery.wmuSlider.js"></script>
<!-- //js -->
<!-- font-awesome-icons -->
<link href="../admin/vendor/font-awesome/css/font-awesome.css"
	rel="stylesheet">
<!-- //font-awesome-icons -->
<link href="css/stylelht.css" rel="stylesheet" type="text/css"
	media="all" />

<link
	href="http://fonts.googleapis.com/css?family=Shadows+Into+Light+Two&amp;subset=latin-ext"
	rel="stylesheet">
<link href="http://fonts.googleapis.com/css?family=Cinzel"
	rel="stylesheet">
<script type="text/javascript" src="../static/js/vue.js"></script>
<script type="text/javascript" src="../static/js/vue-resource.min.js"></script>
<style type="text/css">
	.article-summary{
		overflow: hidden;
		display: -webkit-box;
		-webkit-line-clamp: 2;
		-webkit-box-orient: vertical;
	}
</style>
</head>

<body>
	
	<div class="banner1">
		<div class="container navdiv">
			<nav class="navbar navbar-default">
				<div class="navbar-header navbar-left">
					<button type="button" class="navbar-toggle collapsed"
						data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
						<span class="sr-only">Toggle navigation</span> <span
							class="icon-bar"></span> <span class="icon-bar"></span> <span
							class="icon-bar"></span>
					</button>
					<h1>
						<a class="navbar-brand" href="index.html">WORK <span>BLOG
						</span></a>
					</h1>
				</div>
				<!-- Collect the nav links, forms, and other content for toggling -->
				<div class="collapse navbar-collapse navbar-right"
					id="bs-example-navbar-collapse-1">
					<nav>
						<ul class="nav navbar-nav link-effect-14" id="link-effect-14">
							<li><a href="services.html"><span>首页</span></a></li>
							<li><a href="gallery.html"><span>分类</span></a></li>
							<li><a href="friend.html"><span>友链</span></a></li>
							<li><a href="about.html"><span>关于</span></a>
						</ul>
						<div class="agileinfo_social_icons">
							<ul class="agileits_social_list">
								<li><input type="text" class="form-control"
									placeholder="搜索..."></li>
								<li><span class="input-group-btn1">
										<button class="btn btn-default btn2" type="button">搜索</button>
								</span></li>
								<li><a href="login.html" class="w3_agile_facebook"><i
										class="fa fa-user-o" aria-hidden="true">&nbsp&nbsp&nbsp登录</i></a></li>
								<li><a href="register.html" class="agile_twitter"><i
										class="fa fa-sign-in" aria-hidden="true">&nbsp&nbsp&nbsp注册</i></a></li>
							</ul>
						</div>
				</div>
			</nav>
		</div>
		</nav>
	</div>
	</div>

	<!-- //banner -->
	<!-- gallery -->
	<div class="zuida container-fluid">
		<div class="banxin row">
			<div id="app">
				<div class="gallerydetail fl">
					<div class="gallerymsg">
						<div class="gallery-name">
							<h1>#{{categoty.categotytitle}}</h1>
						</div>
						<div class="gallery-jianjie">
							<p>{{categoty.categotydetail}}</p>
						</div>
					</div>
				</div>
				<div class="fenglei fr col-lg-8 col-md-8">
					<div v-for="item in articlePage.list" class="g1 row" >
						<a :href="'article.html?articleid='+item.articleid">
							<div class="post fl col-md-6">
								<div class="post-title">{{item.title}}</div>
								<div class="post-info ">
									<small class="article-summary">{{item.summary}}</small> <br>
									<small>作者》{{item.authorname}} ,分类》{{item.categotyname}} </small>
								</div>
							</div>
							<div class="post-tupian fr col-md-6">
								<img class="img-responsive" :src="item.img">
							</div>
						</a>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- //gallery -->
	<!-- footer -->
	<div class="copy-right-grids ">
		<div>
			<div class="copy-left">
				<p class="footer-gd">
					Copyright &copy; 2019.5 软件工程1601班 第二小组 李园祥 周金勇 戴同吉 钟珊珊 刘华涛 王小杰 WorkBlog
				</p>
			</div>
			<div class="clearfix"></div>
		</div>
	</div>

	<!-- //footer-->
	<!-- bootstrap-pop-up -->

	<!-- //bootstrap-pop-up -->
	<!-- flexSlider -->
	<script defer src="js/jquery.flexslider.js"></script>
	<script type="text/javascript">
	var vm1 = new Vue({
		el: '#app',
		data: {
			username:'',
			role: '',
			user:{},
			categoty:{},
			articlePage:{}
		},
		created() {
			this.chooserole();
			this.getCategoty();
			this.getAll();
		},
		methods: {
			chooserole() {
				this.$http.get('/workblog/user/getme').then(result => {
					var result = result.body;
					if(result.user !==null){
						this.user = result.user;
						this.role = true;	
					}
				});
			},
			getCategoty(){
				var id=this.getQueryString("categotyid");
				//得到分类信息	
				this.$http.get('/workblog/categoty/get?id='+id).then(result => {
					var result = result.body;
					if(result.state===1){
						this.categoty=result.data;
					}
				});
			},
			getAll() {
				var id=this.getQueryString("categotyid");
				this.$http.get('/workblog/article/getpagebycategoty?index=1&length=10&categotyid='+id).then(result => {
					var result = result.body;
					if(result.state===1){
						this.articlePage=result.data;
					}
				});
			},
			getRequest() {
				var url = location.search; //获取url中"?"符后的字串
				var theRequest = new Object();
				if (url.indexOf("?") != -1) {
					var strs = url.substr(1);
					this.id = strs.split("=")[1];
				}
				return theRequest;
			},
			getQueryString(name){
			     var reg = new RegExp("(^|&)"+ name +"=([^&]*)(&|$)");
			     var r = window.location.search.substr(1).match(reg);
			     if(r!=null)return  unescape(r[2]); return null;
			}
		}
	});
			</script>
	<!-- //flexSlider -->
	<!-- for bootstrap working -->
	<script src="../static/js/bootstrap.min.js"></script>
	<!-- //for bootstrap working -->
	<!-- start-smoth-scrolling -->
	<script type="text/javascript" src="js/move-top.js"></script>
	<script type="text/javascript" src="js/easing.js"></script>
	<script type="text/javascript">
			jQuery(document).ready(function($) {
				$(".scroll").click(function(event) {
					event.preventDefault();
					$('html,body').animate({
						scrollTop: $(this.hash).offset().top
					}, 1000);
				});
			});
		</script>
	<!-- start-smoth-scrolling -->
	<!-- here stars scrolling icon -->
	<script type="text/javascript">
			$(document).ready(function() {
				/*
					var defaults = {
					containerID: 'toTop', // fading element id
					containerHoverID: 'toTopHover', // fading element hover id
					scrollSpeed: 1200,
					easingType: 'linear' 
					};
				*/

				$().UItoTop({
					easingType: 'easeOutQuart'
				});

			});
		</script>
	<!-- //here ends scrolling icon -->
</body>
</html>
